from shapely.geometry import Polygon, LinearRing, LineString
import matplotlib.pyplot as plt

line = LineString([(446596.902063068, 1706476.79068482), (446602.902063068, 1706468.253548356)])
line_x, line_y = line.coords.xy

poly = Polygon([(446603.1086550875, 1706471.645600512), 
                (446601.979709289, 1706470.697286041), 
                (446601.2571839779, 1706470.381181218), 
                (446600.0379225155, 1706470.110234226),
                 (446598.7283453892, 1706469.207077587), 
                 (446598.0509779102, 1706469.071604091),
                  (446597.2381369352, 1706469.568340243), 
                 (446596.9671899436, 1706471.058548697), 
                 (446596.9220321117, 1706472.006863168), 
                 (446596.696242952, 1706473.22612463), 
                 (446597.0123477756, 1706473.948649941), 
                 (446597.2381369352, 1706474.174439101), 
                 (446598.7735032212, 1706475.122753571), 
                 (446599.1799237087, 1706475.258227067),
                 (446600.0830803475, 1706475.438858395), 
                 (446600.9862369863, 1706475.438858395), 
                 (446602.3409719444, 1706474.942122244), 
                 (446603.2441285833, 1706474.219596933), 
                 (446603.469917743, 1706473.722860781),
                  (446603.5150755749, 1706473.677702949),
                  (446603.1086550875, 1706471.645600512)])

poly_x, poly_y = poly.exterior.xy

print(line.intersects(poly))
intersection_length = line.intersection(poly).length

fig, ax = plt.subplots()

ax.plot(line_x, line_y)
ax.plot(poly_x, poly_y, label=f'Intersection Length: {intersection_length}')
plt.legend()
plt.savefig('src/monthly/jan2023/library-testing/first-layer/inkling_of_success.png')